apiVersion: package.carvel.dev/v1alpha1
kind: Package
metadata:
  # Kubernetes name is not used for anything specific but is still required.
  # Use ${spec.publicName}.#{spec.version} as a convetion
  name: fluent-bit.1.7.2-vmware0
spec:
  # publicName will be used by consumers of this package.
  # publicName should be unique across all packages, hence we
  # recommend to use fully qualified name similar to what
  # would be used as a name for a CRD.
  publicName: fluent-bit
  # version will be used by consumers of this package.
  # must be a valid semantic version string.
  version: "1.7.2-vmware0"
  template:
    spec:
      fetch:
        - imgpkgBundle:
            # replace image registry and repo with one you are using
            image: projects.registry.vmware.com/tce/fluent-bit-extension-templates:dev
      template:
        - ytt:
            paths:
              - config/
        - kbld:
            paths:
              - "-"
              - .imgpkg/images.yml
      deploy:
        - kapp: {}
